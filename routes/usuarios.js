const{Router:Router}=require("express"),validarJWT=require("../middlewares/validarJWT"),{body:body}=require("express-validator"),validarCampos=require("../middlewares/validarCampos"),{registrarUsuario:registrarUsuario,loginUsuario:loginUsuario,crearAdmin:crearAdmin,obtenerUsuarioPorId:obtenerUsuarioPorId,actualizarUsuario:actualizarUsuario}=require("../controllers/usuariosController"),router=Router();router.post("/registro",validarCampos(["usuario","cedula","email","password"]),registrarUsuario),router.post("/login",validarCampos(["usuario","password"]),loginUsuario),router.post("/crear-admin",validarJWT,validarCampos,crearAdmin),router.get("/test",((r,a)=>{a.json({status:"conectado",mensaje:"âœ… Backend funcionando desde navegador",fecha:(new Date).toISOString()})})),router.get("/:id",validarJWT,obtenerUsuarioPorId),router.put("/:id",validarJWT,actualizarUsuario),module.exports=router;